@model List<_999_Member>

@{
    ViewData["Title"] = "Báº£ng Xáº¿p Háº¡ng";
}

<div class="container mt-4">
    <h2 class="mb-4">
        <i class="bi bi-bar-chart"></i> Báº£ng Xáº¿p Háº¡ng ThÃ nh ViÃªn
    </h2>

    @if (!Model.Any())
    {
        <div class="alert alert-info">ChÆ°a cÃ³ dá»¯ liá»‡u xáº¿p háº¡ng.</div>
    }
    else
    {
        <div class="card">
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th class="text-center">#</th>
                            <th>TÃªn ThÃ nh ViÃªn</th>
                            <th class="text-center">Sá»‘ Tráº­n</th>
                            <th class="text-center">Tháº¯ng</th>
                            <th class="text-center">Thua</th>
                            <th class="text-center">Tá»· Lá»‡ Tháº¯ng</th>
                            <th class="text-center">DUPR Rating</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < Model.Count; i++)
                        {
                            var member = Model[i];
                            var medal = i switch
                            {
                                0 => "ðŸ¥‡",
                                1 => "ðŸ¥ˆ",
                                2 => "ðŸ¥‰",
                                _ => $"{i + 1}"
                            };

                            <tr class="@(i < 3 ? "table-" + (i == 0 ? "warning" : i == 1 ? "info" : "secondary") : "")">
                                <td class="text-center fw-bold">@medal</td>
                                <td>
                                    <strong>@member.FullName</strong>
                                    <br />
                                    <small class="text-muted">Tham gia: @member.JoinDate.ToString("dd/MM/yyyy")</small>
                                </td>
                                <td class="text-center">@member.MatchesPlayed</td>
                                <td class="text-center text-success fw-bold">@member.MatchesWon</td>
                                <td class="text-center text-danger fw-bold">@member.MatchesLost</td>
                                <td class="text-center">
                                    <span class="badge bg-primary">@member.WinRate.ToString("F1")%</span>
                                </td>
                                <td class="text-center">
                                    <strong class="fs-5">@member.DuprRating.ToString("F2")</strong>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
</div>

<style>
    .table-warning { background-color: rgba(255, 193, 7, 0.1) !important; }
    .table-info { background-color: rgba(23, 162, 184, 0.1) !important; }
    .table-secondary { background-color: rgba(108, 117, 125, 0.1) !important; }
</style>
