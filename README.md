# PCM - Pickleball Club Management System

## ğŸ“‹ Tá»•ng quan

PCM (Pickleball Club Management) lÃ  má»™t giáº£i phÃ¡p quáº£n lÃ½ cÃ¢u láº¡c bá»™ thá»ƒ thao chuyÃªn nghiá»‡p, Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc **ASP.NET Core MVC** hiá»‡n Ä‘áº¡i. Há»‡ thá»‘ng giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c quy trÃ¬nh quáº£n lÃ½, tá»« Ä‘áº·t sÃ¢n, tá»• chá»©c thÃ¡ch Ä‘áº¥u, theo dÃµi tráº­n Ä‘áº¥u Ä‘áº¿n quáº£n lÃ½ tÃ i chÃ­nh cÃ¢u láº¡c bá»™.

**Há»‡ thá»‘ng Ä‘Æ°á»£c phÃ¡t triá»ƒn cho CLB Cáº§u LÃ´ng PCM - Vá»£t Thá»§ Phá»‘ NÃºi.**

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ  Dashboard
- **Thá»‘ng kÃª tá»•ng quan**: Sá»‘ lÆ°á»£ng sÃ¢n, thÃ nh viÃªn, Ä‘áº·t lá»‹ch, tráº­n Ä‘áº¥u
- **Báº£ng xáº¿p háº¡ng**: Top thÃ nh viÃªn theo tá»· lá»‡ tháº¯ng (WinRate)
- **Danh sÃ¡ch giáº£i Ä‘áº¥u**: CÃ¡c giáº£i Ä‘áº¥u sáº¯p diá»…n ra
- **Tin tá»©c vÃ  thÃ´ng bÃ¡o**: Báº£ng tin quan trá»ng

### ğŸ‘¥ Quáº£n lÃ½ thÃ nh viÃªn
- ÄÄƒng kÃ½ vÃ  xÃ¡c thá»±c tÃ i khoáº£n (ASP.NET Core Identity)
- Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n: há» tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i
- Theo dÃµi xáº¿p háº¡ng cÃ¡ nhÃ¢n dá»±a trÃªn tá»· lá»‡ tháº¯ng
- Lá»‹ch sá»­ thi Ä‘áº¥u vÃ  thá»‘ng kÃª (tá»•ng tráº­n, sá»‘ tráº­n tháº¯ng, WinRate)
- Danh sÃ¡ch thÃ nh viÃªn vá»›i tÃ¬m kiáº¿m vÃ  phÃ¢n trang

### ğŸ¾ Quáº£n lÃ½ sÃ¢n Ä‘áº¥u
- Danh sÃ¡ch cÃ¡c sÃ¢n Ä‘áº¥u vá»›i thÃ´ng tin chi tiáº¿t
- Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng cá»§a tá»«ng sÃ¢n
- Quáº£n lÃ½ (CRUD) sÃ¢n bá»Ÿi admin
- Ghi chÃº vÃ  Ä‘áº·c Ä‘iá»ƒm riÃªng cá»§a tá»«ng sÃ¢n

### ğŸ“… Äáº·t sÃ¢n
- Äáº·t sÃ¢n trá»±c tuyáº¿n vá»›i chá»n ngÃ y giá» linh hoáº¡t
- Kiá»ƒm tra trÃ¹ng lá»‹ch tá»± Ä‘á»™ng
- Lá»‹ch sá»­ Ä‘áº·t sÃ¢n cÃ¡ nhÃ¢n
- Quáº£n lÃ½ tráº¡ng thÃ¡i: Confirmed, Pending, Cancelled
- Ghi chÃº cho má»—i láº§n Ä‘áº·t sÃ¢n

### ğŸ† Giáº£i Ä‘áº¥u & ThÃ¡ch Ä‘áº¥u
- Táº¡o vÃ  quáº£n lÃ½ cÃ¡c giáº£i Ä‘áº¥u/thÃ¡ch Ä‘áº¥u
- PhÃ¢n loáº¡i theo loáº¡i hÃ¬nh:
  - **Tournament**: Giáº£i Ä‘áº¥u chÃ­nh thá»©c
  - **FriendlyMatch**: Tráº­n giao há»¯u
  - **RankedMatch**: Tráº­n ranked
- Cáº¥u hÃ¬nh Ä‘á»‹nh dáº¡ng: **Singles** (Ä‘Æ¡n), **Doubles** (Ä‘Ã´i)
- Quáº£n lÃ½ phÃ­ tham gia vÃ  giáº£i thÆ°á»Ÿng
- Theo dÃµi sá»‘ lÆ°á»£ng ngÆ°á»i tham gia vÃ  tráº¡ng thÃ¡i
- Tráº¡ng thÃ¡i giáº£i: Open, Ongoing, Completed, Cancelled
- ÄÄƒng kÃ½ tham gia giáº£i Ä‘áº¥u

### ğŸ¯ Quáº£n lÃ½ tráº­n Ä‘áº¥u
- Ghi nháº­n káº¿t quáº£ tráº­n Ä‘áº¥u
- Há»— trá»£ cáº£ tráº­n ranked vÃ  friendly
- LiÃªn káº¿t vá»›i giáº£i Ä‘áº¥u
- XÃ¡c Ä‘á»‹nh Ä‘á»™i chiáº¿n tháº¯ng (Team1, Team2, Draw)
- Tá»± Ä‘á»™ng cáº­p nháº­t thá»‘ng kÃª thÃ nh viÃªn

### ğŸ’° Quáº£n lÃ½ tÃ i chÃ­nh
- Lá»‹ch sá»­ giao dá»‹ch chi tiáº¿t
- PhÃ¢n loáº¡i thu chi theo danh má»¥c:
  - **Thu nháº­p**: PhÃ­ thÃ nh viÃªn, PhÃ­ Ä‘áº·t sÃ¢n, TÃ i trá»£, Tiá»n thÆ°á»Ÿng giáº£i Ä‘áº¥u, Thu khÃ¡c
  - **Chi phÃ­**: Mua thiáº¿t bá»‹, Chi phÃ­ sÃ¢n, Giáº£i thÆ°á»Ÿng, Hoáº¡t Ä‘á»™ng CLB, Chi khÃ¡c
- BÃ¡o cÃ¡o tÃ i chÃ­nh vá»›i phÃ¢n trang
- Ghi chÃº ngÆ°á»i táº¡o vÃ  mÃ´ táº£ giao dá»‹ch

### ğŸ“° Tin tá»©c & ThÃ´ng bÃ¡o
- ÄÄƒng vÃ  quáº£n lÃ½ tin tá»©c cÃ¢u láº¡c bá»™
- Ghim tin quan trá»ng lÃªn Ä‘áº§u
- HÃ¬nh áº£nh minh há»a cho tá»«ng bÃ i viáº¿t
- PhÃ¢n trang vÃ  sáº¯p xáº¿p theo thá»i gian

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend (PCM.Api)
- **Framework**: ASP.NET Core 10.0 (C# .NET)
- **ORM**: Entity Framework Core 10.0.2 (Code-First)
- **Database**: SQL Server 2019+ hoáº·c SQL Server Express
- **Authentication**: ASP.NET Core Identity
- **Architecture**: Layered Architecture
  - Controllers
  - Data (DbContext, Migrations)
  - Models (Domain Models)
  - Services (Business Logic)
  - Views (Razor Templates)

### Frontend
- **Engine**: Razor Views (ASP.NET Core MVC)
- **UI Framework**: Bootstrap 5.3.2
- **Icons**: Font Awesome 6.0.0
- **Styling**: Custom CSS with Gradient Themes
- **Interactivity**: Vanilla JavaScript + Bootstrap JS

### Database Tables
- `AspNetUsers`, `AspNetRoles`, `AspNetUserRoles` - Quáº£n lÃ½ xÃ¡c thá»±c
- `_999_Member` - ThÃ´ng tin thÃ nh viÃªn
- `_999_Court` - Danh sÃ¡ch sÃ¢n
- `_999_Booking` - Lá»‹ch Ä‘áº·t sÃ¢n
- `_999_Challenge` - Giáº£i Ä‘áº¥u/thÃ¡ch Ä‘áº¥u
- `_999_Participant` - NgÆ°á»i tham gia giáº£i Ä‘áº¥u
- `_999_Match` - Tráº­n Ä‘áº¥u
- `_999_Transaction` - Giao dá»‹ch tÃ i chÃ­nh
- `_999_News` - Tin tá»©c

---

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

### YÃªu cáº§u há»‡ thá»‘ng
- **.NET 10.0 SDK** trá»Ÿ lÃªn
- **SQL Server 2019+** hoáº·c SQL Server Express
- **Visual Studio Code** hoáº·c **Visual Studio 2022**

### CÃ i Ä‘áº·t Backend

#### 1. Clone repository
```bash
git clone https://github.com/your-username/PCM.git
cd PCM/PCM.api
```

#### 2. Cáº¥u hÃ¬nh Connection String
Má»Ÿ file `appsettings.json` vÃ  cáº­p nháº­t:
```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER;Database=PCM_DB;Trusted_Connection=True;TrustServerCertificate=True"
  }
}
```

#### 3. Restore Packages
```bash
dotnet restore
```

#### 4. Cháº¡y Migrations
```bash
dotnet ef database update
```

#### 5. Cháº¡y Backend Server
```bash
dotnet run
```
Backend sáº½ cháº¡y táº¡i: `http://localhost:5000`

---

## ğŸ“Š Dá»¯ liá»‡u máº«u

Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o dá»¯ liá»‡u máº«u khi khá»Ÿi Ä‘á»™ng láº§n Ä‘áº§u:

- **Admin**: `admin@pcm.com` / `Admin@123`
- **Member**: `user@pcm.com` / `User@123`
- **3 sÃ¢n Ä‘áº¥u**: SÃ¢n 1, SÃ¢n 2, SÃ¢n 3
- **5 giáº£i Ä‘áº¥u**: Vá»›i tráº¡ng thÃ¡i Open vÃ  Ongoing
- **10 tráº­n Ä‘áº¥u**: Vá»›i káº¿t quáº£ máº«u
- **4 giao dá»‹ch tÃ i chÃ­nh**: Thu/chi máº«u
- **2 bÃ i tin tá»©c**: Tin tá»©c máº«u

---

## ğŸ” XÃ¡c thá»±c vÃ  PhÃ¢n quyá»n

Há»‡ thá»‘ng sá»­ dá»¥ng **ASP.NET Core Identity** vá»›i 2 vai trÃ²:

- **Admin**: Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng
  - Quáº£n lÃ½ sÃ¢n Ä‘áº¥u
  - Quáº£n lÃ½ tÃ i chÃ­nh
  - Quáº£n lÃ½ tin tá»©c
  - Xem bÃ¡o cÃ¡o

- **Member**: ThÃ nh viÃªn cÃ¢u láº¡c bá»™
  - Xem danh sÃ¡ch sÃ¢n
  - Äáº·t sÃ¢n
  - Tham gia giáº£i Ä‘áº¥u
  - Xem báº£ng xáº¿p háº¡ng
  - Xem tin tá»©c

### Main Controllers

| Endpoint | MÃ´ táº£ |
|----------|------|
| `/` | Trang chá»§/Dashboard |
| `/Account/Login` | ÄÄƒng nháº­p |
| `/Account/Register` | ÄÄƒng kÃ½ |
| `/Challenges` | Danh sÃ¡ch giáº£i Ä‘áº¥u |
| `/Challenges/Details/{id}` | Chi tiáº¿t giáº£i Ä‘áº¥u |
| `/Challenges/Create` | Táº¡o giáº£i Ä‘áº¥u (Admin) |
| `/Transactions` | Quáº£n lÃ½ tÃ i chÃ­nh |
| `/News` | Tin tá»©c |
| `/Dashboard/Leaderboard` | Báº£ng xáº¿p háº¡ng |

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
kiemtra/
â”œâ”€â”€ PCM/
â”‚   â”œâ”€â”€ PCM.api/
â”‚   â”‚   â”œâ”€â”€ Controllers/        # API Controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ AccountController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ChallengesController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionsController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ NewsController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.cs
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ Data/              # DbContext & Initializer
â”‚   â”‚   â”‚   â”œâ”€â”€ ApplicationDbContext.cs
â”‚   â”‚   â”‚   â””â”€â”€ DbSeeder.cs
â”‚   â”‚   â”œâ”€â”€ Models/            # Domain Models
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Court.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Member.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Booking.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Challenge.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Participant.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Match.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_Transaction.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ _999_News.cs
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ Migrations/        # EF Core Migrations
â”‚   â”‚   â”œâ”€â”€ Services/          # Business Logic
â”‚   â”‚   â”œâ”€â”€ Views/             # Razor Templates
â”‚   â”‚   â”‚   â”œâ”€â”€ Account/
â”‚   â”‚   â”‚   â”œâ”€â”€ Challenges/
â”‚   â”‚   â”‚   â”œâ”€â”€ Transactions/
â”‚   â”‚   â”‚   â”œâ”€â”€ News/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ Shared/        # _Layout.cshtml, _Navigation
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ wwwroot/           # Static files
â”‚   â”‚   â”œâ”€â”€ Properties/
â”‚   â”‚   â”œâ”€â”€ Program.cs         # Entry point
â”‚   â”‚   â””â”€â”€ appsettings.json
â”‚   â”‚
â”‚   â”œâ”€â”€ PCM.sln
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ README.md
```

---

## ğŸ” Models & Relationships

### Entity Relationships
```
Member (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) Booking
Member (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) Participant
Member (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) Match
Member (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) Transaction
Member (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) News (Author)

Court (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) Booking

Challenge (1) â”€â”€â”€â”€â”€â”€â”€â”€ (*) Participant
Participant (1) â”€â”€â”€â”€ (*) Match

User (1:1) â”€â”€â”€â”€â”€â”€â”€â”€ Member
```

---

## ğŸŒ Giao diá»‡n & UX

### Trang Login/Register
- **Modern Gradient Design**: Purple-to-Pink gradient background
- **Glassmorphism Effect**: Semi-transparent cards vá»›i blur backdrop
- **Animations**: Smooth slide-in, bounce-in, ripple effects
- **Password Strength Meter**: Real-time password validation
- **Responsive**: Hoáº¡t Ä‘á»™ng tá»‘t trÃªn mobile & desktop

### Navigation
- **Sidebar Navigation**: Collapsible menu
- **Role-based Links**: Menu thay Ä‘á»•i theo quyá»n
- **Icons**: Font Awesome icons cho má»—i section
- **Active State**: Highlight section hiá»‡n táº¡i

### Cards & Components
- **Dashboard Cards**: Thá»‘ng kÃª vá»›i icons
- **Challenge Cards**: Hiá»ƒn thá»‹ thÃ´ng tin giáº£i Ä‘áº¥u
- **Responsive Tables**: PhÃ¢n trang, tÃ¬m kiáº¿m
- **Form Validation**: Real-time validation feedback

---

## ğŸ› Troubleshooting

### Backend khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c database
- Kiá»ƒm tra SQL Server Ä‘Ã£ cháº¡y chÆ°a
- XÃ¡c nháº­n connection string trong `appsettings.json`
- Cháº¡y láº¡i `dotnet ef database update`
- Kiá»ƒm tra quyá»n truy cáº­p database

### Trang Login/Register lá»—i CSS
- XÃ³a cache browser (Ctrl+Shift+Delete)
- Kiá»ƒm tra file CSS táº£i bÃ¬nh thÆ°á»ng
- Reload láº¡i trang (Ctrl+F5)

### KhÃ´ng thá»ƒ tham gia giáº£i Ä‘áº¥u
- Kiá»ƒm tra Ä‘Ã£ Ä‘Äƒng nháº­p chÆ°a
- Kiá»ƒm tra user cÃ³ quyá»n (pháº£i lÃ  Member)
- Xem logs backend Ä‘á»ƒ debug

### Dá»¯ liá»‡u khÃ´ng hiá»ƒn thá»‹
- Kiá»ƒm tra migrations Ä‘Ã£ cháº¡y xong
- XÃ¡c nháº­n seed data Ä‘Ã£ Ä‘Æ°á»£c táº¡o
- Kiá»ƒm tra Include relationships trong Controller

---

## ğŸ“ Ghi chÃº Migration

Há»‡ thá»‘ng sá»­ dá»¥ng **Entity Framework Code-First Migrations**. CÃ¡c migration files chÃ­nh:

| Migration | MÃ´ táº£ |
|-----------|------|
| `InitIdentity` | Táº¡o báº£ng ASP.NET Core Identity |
| `InitPCM` / `InitDB` | Táº¡o báº£ng Members, Courts, Bookings |
| `AddMatches` | ThÃªm báº£ng Matches |
| `AddChallengesTransactionsNews` | ThÃªm Challenges, Participants, Transactions, News |
| `UpdateMemberSchema` | Cáº­p nháº­t schema Member |
| `AddIdentitySchema` | Cáº­p nháº­t Identity schema |

---

## ğŸ‘¨â€ğŸ’» PhÃ¡t triá»ƒn thÃªm

### TÃ­nh nÄƒng cÃ³ thá»ƒ má»Ÿ rá»™ng
- [ ] Chat/Messaging giá»¯a thÃ nh viÃªn
- [ ] Booking recurring (Ä‘áº·t sÃ¢n Ä‘á»‹nh ká»³)
- [ ] Payment gateway integration (VNPay, Stripe)
- [ ] Mobile app (React Native/Flutter)
- [ ] Email notifications
- [ ] BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª nÃ¢ng cao
- [ ] Tournament bracket visualization
- [ ] Live scoring system
- [ ] Attendance tracking
- [ ] Skill level ranking

### Best Practices
1. LuÃ´n sá»­ dá»¥ng `[Authorize]` attribute cho protected endpoints
2. Validate input á»Ÿ client-side vÃ  server-side
3. Log lá»—i vÃ  important events
4. Sá»­ dá»¥ng async/await cho database operations
5. Táº¡o migrations khi thay Ä‘á»•i Models
6. Test cÃ¡c workflows chÃ­nh trÆ°á»›c khi deploy

---

## ğŸ“§ LiÃªn há»‡ & Há»— trá»£

Náº¿u cÃ³ cÃ¢u há»i hoáº·c gÃ³p Ã½, vui lÃ²ng:
- Táº¡o Issue trÃªn GitHub
- Gá»­i email cho admin
- LiÃªn há»‡ trá»±c tiáº¿p vá»›i team phÃ¡t triá»ƒn

---

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch quáº£n lÃ½ CLB Cáº§u LÃ´ng PCM.

---

## ğŸ“Š Project Status

- **Version**: 1.0.0
- **Last Updated**: 31/01/2026
- **Status**: Active Development ğŸš€
- **Build**: âœ… Success (0 errors)
- **Database**: âœ… Applied (9 migrations)

---

**Made with â¤ï¸ for PCM Badminton Club**

### CÃ¡ch cháº¡y

1. CÃ i Ä‘áº·t .NET 10.0 SDK
2. Cáº­p nháº­t connection string trong `appsettings.json`
3. Cháº¡y lá»‡nh:
   ```bash
   dotnet build
   dotnet run
   ```
4. Truy cáº­p http://localhost:5000

### Database

Dá»± Ã¡n sá»­ dá»¥ng SQL Server. Connection string máº·c Ä‘á»‹nh:
```
Server=DESKTOP-AMH5GRG\\SQLEXPRESS;Database=PCM_DB;Trusted_Connection=True;TrustServerCertificate=True;
```

Dá»¯ liá»‡u máº«u sáº½ Ä‘Æ°á»£c seed tá»± Ä‘á»™ng khi cháº¡y láº§n Ä‘áº§u.

### LÆ°u Ã½

- Dá»± Ã¡n cÃ³ thá»ƒ cháº¡y vá»›i hoáº·c khÃ´ng cÃ³ authentication tÃ¹y chá»‰nh
- UI Ä‘Æ°á»£c thiáº¿t káº¿ responsive vÃ  thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng
- Validation Ä‘Æ°á»£c thá»±c hiá»‡n á»Ÿ cáº£ client vÃ  server side